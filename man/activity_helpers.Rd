% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/activity.R
\name{activity_helpers}
\alias{activity_helpers}
\alias{group_activity_list}
\alias{organization_activity_list}
\alias{recently_changed_packages_activity_list}
\alias{dashboard_new_activities_count}
\alias{dashboard_mark_activities_old}
\alias{activity_show}
\alias{activity_data_show}
\alias{activity_diff}
\alias{activity_create}
\alias{send_email_notifications}
\title{Activity stream helpers}
\usage{
group_activity_list(
  id,
  offset = 0,
  limit = 31,
  include_hidden_activity = FALSE,
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

organization_activity_list(
  id,
  offset = 0,
  limit = 31,
  include_hidden_activity = FALSE,
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

recently_changed_packages_activity_list(
  offset = 0,
  limit = 31,
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

dashboard_new_activities_count(
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

dashboard_mark_activities_old(
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

activity_show(
  id,
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

activity_data_show(
  id,
  object_type,
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

activity_diff(
  id,
  object_type,
  diff_type = "unified",
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

activity_create(
  user_id,
  object_id,
  activity_type,
  data = NULL,
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)

send_email_notifications(
  url = get_default_url(),
  key = get_default_key(),
  as = "list",
  ...
)
}
\arguments{
\item{id}{(character) Identifier of the target object (group, organization,
activity, etc.).}

\item{offset}{(numeric) Where to start getting activity items from
(optional, default: 0)}

\item{limit}{(numeric) The maximum number of activities to return
(optional, default: 31)}

\item{include_hidden_activity}{(logical) If \code{TRUE}, include private activity
entries (requires sysadmin).}

\item{url}{Base url to use. Default: https://data.ontario.ca/ See
also \code{\link{ckanr_setup}} and \code{\link{get_default_url}}.}

\item{key}{A privileged CKAN API key, Default: your key set with
\code{\link{ckanr_setup}}}

\item{as}{(character) One of list (default), table, or json. Parsing with
table option uses \code{jsonlite::fromJSON(..., simplifyDataFrame = TRUE)},
which attempts to parse data to data.frame's when possible, so the result
can vary from a vector, list or data.frame. (required)}

\item{...}{Curl args passed on to \code{\link[crul]{verb-POST}} (optional)}

\item{object_type}{(character) Domain object affected by the activity, e.g.,
"package", "resource", or a plugin-defined type.}

\item{diff_type}{(character) Diff format returned by \code{activity_diff()},
typically "unified".}

\item{user_id}{(character) User identifier associated with a custom
\code{activity_create()} entry.}

\item{object_id}{(character) Target object identifier for
\code{activity_create()}.}

\item{activity_type}{(character) Activity type string to emit via
\code{activity_create()}.}

\item{data}{(list|character) Optional structured payload describing the
activity body. Lists are JSON-encoded automatically.}
}
\description{
These helpers wrap CKAN's \code{ckanext.activity} endpoints. They require the
\code{activity} core plugin to be enabled on the target CKAN instance.
}
